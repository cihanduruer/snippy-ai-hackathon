# Azure Functions API Testing Guide
# Use this file to test your API endpoints step by step

### Step 1: Test if the service is running
GET http://localhost:7071/api/security/rbac-check

### Step 2: Save a simple code snippet
POST http://localhost:7071/api/snippets
Content-Type: application/json

{
    "name": "hello-world",
    "code": "def hello_world():\n    print('Hello, World!')\n    return 'Hello, World!'",
    "projectId": "tutorial-project"
}

### Step 3: Retrieve the saved snippet
GET http://localhost:7071/api/snippets/hello-world

### Step 4: Save another snippet (Python function)
POST http://localhost:7071/api/snippets
Content-Type: application/json

{
    "name": "fibonacci",
    "code": "def fibonacci(n):\n    if n <= 1:\n        return n\n    return fibonacci(n-1) + fibonacci(n-2)",
    "projectId": "tutorial-project"
}

### Step 5: Save a JavaScript snippet
POST http://localhost:7071/api/snippets
Content-Type: application/json

{
    "name": "array-sum",
    "code": "function arraySum(arr) {\n    return arr.reduce((sum, num) => sum + num, 0);\n}",
    "projectId": "tutorial-project"
}

### Step 6: Query snippets (semantic search)
POST http://localhost:7071/api/query
Content-Type: application/json

{
    "query": "How do I add numbers in an array?",
    "top_k": 3
}

### Step 7: Generate a code style guide
POST http://localhost:7071/api/snippets/code-style
Content-Type: application/json

{
    "chatHistory": "",
    "userQuery": "Generate a coding style guide for the saved snippets"
}

### Step 8: Generate documentation wiki
POST http://localhost:7071/api/snippets/wiki
Content-Type: application/json

{
    "chatHistory": "",
    "userQuery": "Create comprehensive documentation for all the code snippets"
}
